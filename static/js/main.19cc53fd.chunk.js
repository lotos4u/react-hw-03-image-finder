(this["webpackJsonpreact-hw-03-image-finder"]=this["webpackJsonpreact-hw-03-image-finder"]||[]).push([[0],{22:function(e){e.exports=JSON.parse('{"a":"18060216-54e3ca58d741e1dcf99f0c9a1"}')},24:function(e,t,a){e.exports=a(70)},29:function(e,t,a){},30:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(20),i=a.n(r),c=(a(29),a(9)),l=a(5),s=a(6),u=a(7),m=a(8),h=(a(30),a(23)),d=function(e){var t=Object(n.useState)(""),a=Object(h.a)(t,2),r=a[0],i=a[1];return o.a.createElement("header",{className:"Searchbar"},o.a.createElement("form",{className:"SearchForm",onSubmit:function(t){return function(t){t.preventDefault(),r&&e.onSubmit(r)}(t)}},o.a.createElement("button",{type:"submit",className:"SearchForm-button"},o.a.createElement("span",{className:"SearchForm-button-label"},"Search")),o.a.createElement("input",{value:r,className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){return function(e){e.preventDefault(),i(e.target.value)}(e)}})))},f=function(e){return o.a.createElement("li",{className:"ImageGalleryItem"},o.a.createElement("img",{onClick:function(t){return function(t){t.preventDefault(),e.onClick(e.image.id)}(t)},src:e.image.webformatURL,alt:e.image.webformatURL,className:"ImageGalleryItem-image"}))},g=function(e){var t=function(t){e.onClick(t)};return o.a.createElement("ul",{className:"ImageGallery"},e.images.map((function(e){return o.a.createElement(f,{key:e.id,image:e,onClick:t})})))},p=a(21),v=a.n(p),y=function(){return o.a.createElement("div",{className:"Loader"},o.a.createElement(v.a,{type:"ThreeDots",color:"#3f51b5",height:100,width:100,timeout:0}))},E=function(e){return o.a.createElement("button",{className:"Button",onClick:function(t){return function(t){t.preventDefault(),e.onClick()}(t)}},"Load more")},b=(a(52),a(10)),k=a.n(b),w=a(22);k.a.defaults.baseURL="https://pixabay.com/api";var C=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).handleCloseModalEsc=function(t){"Escape"===t.code&&e.handleCloseModal()},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleCloseModalEsc)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleCloseModalEsc)}},{key:"handleClick",value:function(e){e.preventDefault(),e.target instanceof HTMLDivElement&&this.handleCloseModal()}},{key:"handleCloseModal",value:function(){this.props.onClose(this.props.image.id)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"Overlay",onClick:function(t){return e.handleClick(t)}},o.a.createElement("div",{className:"Modal"},o.a.createElement("img",{src:this.props.image,alt:this.props.image})))}}]),a}(n.Component),S=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={images:[],page:1,query:"",isLoading:!1,showFull:null},e.handleSearchImages=function(t){e.setState((function(){return{page:1}}),(function(){return e.setState({query:t},(function(){return e.loadImages(!1)}))}))},e.handleLoadMore=function(){e.setState((function(){return{page:e.state.page+1}}),(function(){e.loadImages(!0)}))},e.handleImageClick=function(t){var a=e.state.images.find((function(e){return e.id===t}));e.setState({showFull:a?a.largeImageURL:null})},e.handleCloseModal=function(){e.setState({showFull:null})},e}return Object(s.a)(a,[{key:"componentDidUpdate",value:function(e,t,a){a&&setTimeout((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}),0)}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return this.state.images.length>t.images.length}},{key:"loadImages",value:function(e,t){var a=this;this.setState({isLoading:!0},(function(){(function(e,t){var a="/?q=".concat(e,"&page=").concat(t,"&key=").concat(w.a,"&image_type=photo&orientation=horizontal&per_page=12");return k.a.get(a).then((function(e){return e.data.hits})).catch((function(e){return console.warn(e),e}))})(a.state.query,a.state.page).then((function(n){a.setState((function(){return e?{images:[].concat(Object(c.a)(a.state.images),Object(c.a)(n))}:{images:Object(c.a)(n)}}),(function(){t&&t()}))})).catch((function(e){console.warn(e)})).finally((function(){return a.setState({isLoading:!1})}))}))}},{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(d,{onSubmit:this.handleSearchImages}),this.state.query&&o.a.createElement(o.a.Fragment,null,o.a.createElement(g,{images:this.state.images,onClick:this.handleImageClick}),this.state.images.length>0&&!this.state.isLoading&&o.a.createElement(E,{onClick:this.handleLoadMore})),this.state.isLoading&&o.a.createElement(y,null),this.state.showFull&&o.a.createElement(C,{image:this.state.showFull,onClose:this.handleCloseModal}))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[24,1,2]]]);
//# sourceMappingURL=main.19cc53fd.chunk.js.map