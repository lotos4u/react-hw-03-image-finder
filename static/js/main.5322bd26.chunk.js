(this["webpackJsonpreact-hw-03-image-finder"]=this["webpackJsonpreact-hw-03-image-finder"]||[]).push([[0],{23:function(e,t,a){e.exports=a(69)},28:function(e,t,a){},29:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(20),c=a.n(o),i=(a(28),a(9)),u=a(3),s=a(4),l=a(5),m=a(6),h=(a(29),a(22)),f=function(e){var t=Object(n.useState)(""),a=Object(h.a)(t,2),o=a[0],c=a[1];return r.a.createElement("header",{className:"Searchbar"},r.a.createElement("form",{className:"SearchForm",onSubmit:function(t){return function(t){t.preventDefault(),o&&e.onSubmit(o)}(t)}},r.a.createElement("button",{type:"submit",className:"SearchForm-button"},r.a.createElement("span",{className:"SearchForm-button-label"},"Search")),r.a.createElement("input",{value:o,className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){return function(e){e.preventDefault(),c(e.target.value)}(e)}})))},p=function(e){Object(m.a)(a,e);var t=Object(l.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("li",{className:"ImageGalleryItem"},r.a.createElement("img",{src:this.props.image.previewURL,alt:this.props.image.previewURL,className:"ImageGalleryItem-image"}))}}]),a}(n.Component),g=function(e){Object(m.a)(a,e);var t=Object(l.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("ul",{className:"ImageGallery"},this.props.images.map((function(e){return r.a.createElement(p,{key:e.id,image:e})})))}}]),a}(n.Component),d=a(21),b=a.n(d),v=function(){return r.a.createElement(b.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3})},y=function(e){return r.a.createElement("button",{onClick:function(t){return function(t){t.preventDefault(),e.onClick()}(t)}},"Load more")},E=(a(51),a(10)),S=a.n(E);S.a.defaults.baseURL="https://pixabay.com/api";var w=function(e){Object(m.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={images:[],page:1,query:"",isLoading:!1},e}return Object(s.a)(a,[{key:"handleSearchImages",value:function(e){var t=this;this.setState((function(){return{page:1}}),(function(){return t.setState({query:e},(function(){return t.loadImages(!1)}))}))}},{key:"loadImages",value:function(e,t){var a=this;this.setState({isLoading:!0},(function(){(function(e,t){var a="/?q=".concat(e,"&page=").concat(t,"&key=18060216-54e3ca58d741e1dcf99f0c9a1&image_type=photo&orientation=horizontal&per_page=12");return S.a.get(a).then((function(e){return e.data.hits})).catch((function(e){return console.warn(e),e}))})(a.state.query,a.state.page).then((function(n){a.setState((function(){return e?{images:[].concat(Object(i.a)(a.state.images),Object(i.a)(n))}:{images:Object(i.a)(n)}}),(function(){t&&t()}))})).catch((function(e){console.warn(e)})).finally((function(){return a.setState({isLoading:!1})}))}))}},{key:"handleLoadMore",value:function(){var e=this;this.setState((function(){return{page:e.state.page+1}}),(function(){e.loadImages(!0,(function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}))}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(f,{onSubmit:function(t){return e.handleSearchImages(t)}}),this.state.isLoading?r.a.createElement(v,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(g,{images:this.state.images}),this.state.images.length>0?r.a.createElement(y,{onClick:function(){return e.handleLoadMore()}}):""))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[23,1,2]]]);
//# sourceMappingURL=main.5322bd26.chunk.js.map